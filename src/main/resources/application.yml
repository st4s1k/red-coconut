# Spring configuration
spring:
  application:
    name: Red Coconut

  # Multipart file upload configuration
  servlet:
    multipart:
      max-file-size: ${MAX_FILE_SIZE:10GB}
      max-request-size: ${MAX_REQUEST_SIZE:10GB}
      resolve-lazily: true

  security:
    oauth2:
      client:
        registration:
          cognito:
            client-id: 3ji922cv55r0pmuu8avq47levu
            client-secret: <client secret>
            scope:
              - email
              - openid
              - phone
            # Spring Security by default uses a redirect-uri in the format: {baseUrl}/login/oauth2/code/{registrationId}
            # For example: http://localhost:8080/login/oauth2/code/cognito
            # See more: https://docs.spring.io/spring-security/reference/servlet/oauth2/login/core.html#oauth2login-sample-redirect-uri
            redirect-uri: http://localhost:8080/login/oauth2/code/cognito
        provider:
          cognito:
            issuerUri: https://cognito-idp.eu-west-1.amazonaws.com/eu-west-1_CqYISFUAz
            user-name-attribute: username

red-coconut:
  storage:
    # Location: a bucket name for cloud storage or directory path for local storage
    location: ${STORAGE_LOCATION:tmp}
    # Whether to use chunked uploads for large files
    use-chunked-uploads: ${STORAGE_USE_CHUNKED:true}
    # Size threshold for chunked uploads (default: 100MB)
    chunk-threshold: ${STORAGE_CHUNK_THRESHOLD:104857600}
    # Size of each chunk (default: 10MB)
    chunk-size: ${STORAGE_CHUNK_SIZE:10485760}
